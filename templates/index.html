<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}{{ config.title }}{% endblock title %}</title>
    {% block extra_head %}
    <link rel="stylesheet" href="{{ get_url(path='styles/style.css', cachebust=true) }}">
    {% endblock extra_head %}
</head>

<body class="dark:bg-gray-700 bg-slate-300 bg-repeat flex flex-col h-screen" style="background-image: url(/images/circuit-board.svg)">

    <header class="bg-slate-800 mb-5 top-0 sticky shadow-lg" >
        <div class="max-w-2xl mx-auto px-2 sm:px-6">
            <div class="flex justify-between items-center py-1 md:justify-start">
                <img class=" w-2/6 dark:invert py-0" src="{{ get_url(path='/images/logo.svg') }}" alt="{{config.title}}"/>

                {% if config.extra.links %}
                <div class=" w-4/6 flex justify-end items-end py-0">
                    {% set top_section = get_section(path="_index.md") %}
                    
                    
                    {% for page in config.extra.nav %}
                    <a class="p-1 mx-1 rounded hover:bg-slate-700 text-slate-300 {% if page.href == current_path  %} bg-slate-700 {% endif %}"
                        href={{page.href}}>
                        {{page.title}}
                    </a>
                    {% endfor %}

                    {% for link in config.extra.links %}
                    <svg class=" hover:fill-white fill-slate-400 w-8 h-8 px-2 transition-all">
                        <use xlink:href="/icons/bootstrap-icons.svg#{{link.icon}}"/>
                    </svg>
                    {% endfor %}

                </div>
                {% endif %}
            </div>
        </div>
    </header>


    <!-- Main content container -->
    <main class="p-2 max-w-2xl mx-auto flex-grow">

        <!-- Notifications/global messages -->
        <div class="rounded-xl p-2 mb-5 bg-slate-800 border border-slate-500 flex justify-between items-center">
            <div class="w-1/5 items-center justify-center flex">
                <svg class="fill-slate-400 h-20 px-1">
                    <use xlink:href="/images/hello.svg#Capa_1"/>
                </svg>
            </div>
            <div class="w-4/5 border-l border-slate-400 pl-4 ">
                <div class="text-lg text-slate-300">Hello, world!</div>
                <div class="text-slate-400">
                    Thanks for visiting. I'm in the process of setting this site up so expect that some features won't work correctly at the moment.
                </div>
            </div>
        </div>



        {% block content %}
        {% set blog = get_section(path="blog/_index.md") %}

        {% if section.content or blog.pages %}
        <div>
            
            <!-- Main page content -->
            {% if section.content %}
            <div class="mb-4 mx-auto bg-slate-700 rounded-xl shadow-lg border-2 border-slate-700">
                <div class="px-3 hame-markdown">{{ section.content | safe }}</div>
            </div>
            {% endif %}

            <!-- Display post listing on home page -->
            {% if blog.pages %}
            <div>
                <h2 class=" text-xl text-slate-100 text-center">Recent posts</h2>

                {% for post in blog.pages | slice(end=20) %}
                <div 
                class="mb-4 mx-auto bg-slate-700 rounded-xl shadow-lg border-2 border-slate-700 hover:border-slate-600 transition-all"
                onclick="window.location.href='{{post.permalink}}'">
                    
                    {% if post.extra.image %}
                    <img class="object-cover h-40 w-full overflow-auto"src="{{post.extra.image}}"/>
                    {% else %}
                    <img class="object-cover h-10 w-full overflow-auto"src="https://images.pexels.com/photos/310452/pexels-photo-310452.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260"/>
                    {% endif%}

                    <div class=" px-3">
                        <div class="flex justify-between items-center py-1 md:justify-start">
                            <div class="w-3/4 text-xl font-medium text-slate-100">{{post.title}}</div>
                            <div class="w-1/4 flex items-center">
                                <svg class="w-1/3 fill-slate-400 h-4 px-2">
                                    <use xlink:href="icons/bootstrap-icons.svg#calendar"/>
                                </svg>
                                <div class="font-small text-slate-400">{{post.date}}</div>
                            </div>

                        </div>
                        <p class="text-slate-300">{{ post.content | striptags | truncate(length=180) | safe}}</p>
            
                        <button
                            class="py-2 px-4 my-2 w-full bg-slate-600 text-white rounded-lg shadow-md hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-opacity-75"
                            onclick="window.location.href='{{post.permalink}}'">
                            Read more
                    </button>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% endif %}

            <button
            class="py-2 my-2 px-4 bg-slate-600 text-white rounded-lg shadow-md hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-opacity-75">
            Read more
            </button>

        </div>
        {% endif %}
        {% endblock content %}

    </main>


    <footer class=" bg-slate-800 align-bottom">
        <div class="py-2 px-5 max-w-2xl mx-auto flex justify-between items-center md:justify-start">
            <div class="w-1/5">
                <img class="dark:invert py-0" src="{{ get_url(path='/images/logo.svg') }}" alt="{{config.title}}"/>
            </div>
        </div>
    </footer>

</body>